---
title: "Minhas leituras do primeiro semestre de 2024"
subtitle: "Uma an√°lise explorat√≥ria de dados"
author: "Beatriz Milz"
date: "2024-07-25"
categories: ["EDA", "Visualiza√ß√£o de dados", "ggplot2"]
image: "images/mosaico_capas.png"
toc: true
draft: false
cache: true
---

```{r multilang-buttons}
#| results: asis
#| echo: false
#| message: false
#| warning: false
source(here::here("R/multilang.R"))
multilang()
```

Hoje, 25 de julho, √© o **dia do escritor**!

Para comemorar, pensei em juntar duas coisas que gosto bastante (ler + an√°lise de dados) e explorar com voc√™s as minhas leituras do primeiro semestre de 2024. Isso aparentemente √© um estilo de v√≠deo comum no YouTube, eu pessoalmente adorei o v√≠deo do canal [Sele√ß√£o Liter√°ria](https://youtu.be/x617jWB7Z9c?si=lwCeXr5OLv_hUAvS), e me inspirei um pouco nele para fazer esse post.

## Dados de leituras

Eu tive o privil√©gio de ter sido incentivada a ler desde crian√ßa. Nos √∫ltimos anos, principalmente durante o doutorado, eu n√£o conseguia ler muito al√©m de fantasia (para desconectar um pouco!). Mas, neste ano, tenho lido mais, e buscado ter uma rotina de leitura di√°ria.

Eu comecei a registrar os livros que estava lendo no ano no [Skoob](https://www.skoob.com.br/usuario/10490743), uma rede social **brasileira** onde as pessoas podem registrar suas leituras e suas impress√µes.

[![Captura de tela - Skoob](images/skoob.png){fig-align="center" width="70%"}](https://www.skoob.com.br/usuario/10490743)

Infelizmente, n√£o encontrei nenhuma forma no Skoob de exportar os dados das minhas leituras. Ent√£o, eu comecei a registrar manualmente em uma [planilha no Google Sheets](https://docs.google.com/spreadsheets/d/1D8rh2frRvQ_YSLDrljpiqDCcTJdCjoyMb3rfoEwjPjE/edit?usp=sharing). Eu deixei ela aberta para leitura, caso algu√©m queira ver como organizei os dados. Mas aten√ß√£o: s√≥ tem leituras a partir do ano de 2024, ok?

[![Captura de tela - Planilha do Google Sheets](images/googlesheets.png){fig-align="center" width="70%"}](https://docs.google.com/spreadsheets/d/1D8rh2frRvQ_YSLDrljpiqDCcTJdCjoyMb3rfoEwjPjE/edit?usp=sharing)

Esse post vai ser uma an√°lise explorat√≥ria dos dados que eu registrei. Vamos l√°!

## Carregando os dados

Primeiro, vamos carregar os pacotes necess√°rios:

```{r}
#| message: false
#| warning: false
library(tidyverse)
library(googlesheets4)
library(knitr) 
```

Agora, vamos carregar os dados da planilha. [Em um post passado, eu expliquei como fazer isso](https://beamilz.com/posts/2022-03-08-googlesheets4/pt/index.html).

```{r}
#| message: false
#| warning: false
#| eval: false
#| echo: true

# Criando um vetor com o link da tabela no Google Sheets
link_google_sheets <- "https://docs.google.com/spreadsheets/d/1D8rh2frRvQ_YSLDrljpiqDCcTJdCjoyMb3rfoEwjPjE/edit?usp=sharing"

# Tabela de leituras
tabela_leituras <- read_sheet(link_google_sheets, sheet = "leituras")

# Tabela de autoria
tabela_autoria <-  read_sheet(link_google_sheets, sheet = "autoria")
```

```{r}
#| eval: false
#| echo: false
tabela_leituras |> 
  writexl::write_xlsx("dados/tabela_leituras.xlsx")

tabela_autoria |> 
  writexl::write_xlsx("dados/tabela_autoria.xlsx")
```

```{r}
#| eval: true
#| echo: false
tabela_leituras <- readxl::read_xlsx("dados/tabela_leituras.xlsx")
tabela_autoria <- readxl::read_xlsx("dados/tabela_autoria.xlsx")
```

Vamos dar uma olhada nos dados:

```{r}
glimpse(tabela_leituras)
glimpse(tabela_autoria)
```

Na tabela `leituras`, tem algumas informa√ß√µes sobre os livros que eu li. Vamos filtrar para obter os dados das leituras do primeiro semestre de 2024.

```{r}
leituras_filtradas <- tabela_leituras |>
  filter(ano_leitura == 2024,
         semestre_leitura == 1,
         status_leitura == "completo") 
```

Podemos usar a fun√ß√£o `left_join()` do pacote `{dplyr}` para unir as duas tabelas (de leituras e autoria):

```{r}
dados <- leituras_filtradas |> 
  left_join(tabela_autoria, by = "autoria_nome")
```

Agora, podemos ver a estrutura da tabela criada:

```{r}
glimpse(dados)
```

## An√°lise explorat√≥ria

```{r}
tabela_resumo <- dados |> 
  summarise(
    quantidade_livros = n(),
    soma_paginas = sum(n_paginas),
    media_paginas_por_dia = round(soma_paginas / (365.25/2))
  ) 

tabela_resumo |> 
  kable()
```

-   No primeiro semestre de 2024, eu li **`r tabela_resumo$quantidade_livros` livros**, que somados tem um total de **`r tabela_resumo$soma_paginas` p√°ginas!**

-   Isso d√°, em m√©dia, aproximadamente **`r tabela_resumo$media_paginas_por_dia` p√°ginas por dia**.

Vamos agora responder algumas perguntas?

### Formato de leitura: livro f√≠sico ou ebook?

√â comum para mim ler um livro f√≠sico e um ebook ao mesmo tempo. Gosto muito de ler livros no Kindle, pois me ajuda a dormir (e tamb√©m nos momentos de ins√¥nia!). N√£o a categoria de audiolivro, pois eu ainda n√£o consegui me adaptar a essa forma de leitura: eu perco a concentra√ß√£o muito f√°cil.

![Foto do meu querido Kindle, enquanto eu lia durante uma viagem de trem.](images/kindle.jpeg){fig-align="center" width="50%"}

Vamos ver como foi a distribui√ß√£o das minhas leituras por formato:

```{r}
#| label: plot-tipo-quantidade
#| fig-height: 3
livros_por_formato <- dados |> 
  group_by(tipo) |> 
  summarise(
    quantidade_livros = n(),
    soma_paginas = sum(n_paginas),
  )

livros_por_formato |> 
  ggplot() +
  aes(y = tipo, x = quantidade_livros) +
  geom_col(aes(fill = tipo)) +
  labs(
    title = "Quantidade de livros lidos, por formato",
    x = "Quantidade de livros",
    y = "Formato"
  ) +
  theme_minimal() +
  scale_fill_manual(values = c("#bf8464", "#d2dce5")) +
  theme(legend.position = "none")
```

Considerando a quantidade de livros, ficou bem equilibrado a leitura entre formato f√≠sico e ebook!

E se considerar o n√∫mero de p√°ginas?

```{r}
#| label: plot-tipo-quantidade-paginas
#| fig-height: 3
livros_por_formato |> 
  ggplot() +
  aes(y = tipo, x = soma_paginas) +
  geom_col(aes(fill = tipo)) +
  labs(
    title = "N√∫mero de p√°ginas lidas, por formato",
    x = "N√∫mero de p√°ginas",
    y = "Formato"
  ) +
  theme_minimal() +
  scale_fill_manual(values = c("#bf8464", "#d2dce5")) +
  theme(legend.position = "none")
```

Nesse caso, o n√∫mero de p√°ginas lidas em livros ebook foi mais que o dobro de p√°ginas lidas em livros f√≠sicos!

**Spoiler:** isso aconteceu pois eu li uma s√©rie de livros inteira no Kindle! Mas logo falo mais sobre isso.

### Qual foi a editora que mais publicou livros que eu li?

Ao explorar os dados, eu percebi que eu li livros de v√°rias editoras diferentes, mas uma editora se destacou: a [Aleph](https://editoraaleph.com.br/). Eu adoro essa editora pois ela tem um cat√°logo INCR√çVEL de livros de fic√ß√£o cient√≠fica! E esse √© um g√™nero que eu adoro ler.

```{r}
dados |> 
  count(editora, sort = TRUE) |> 
  kable(col.names = c("Editora", "Quantidade de livros"))
```

### Quem escreveu esses livros?

Vamos ver agora quem foram as pessoas autoras que mais apareceram nas minhas leituras?

```{r}
dados |> 
  count(autoria_nome, sort = TRUE) |> 
  kable(col.names = c("Autor", "Quantidade de livros"))
```

Bom, com essa tabela j√° deu para imaginar qual √© a s√©rie de livros que eu li em ebook! Neste semestre, li os seis livros da s√©rie "Duna", do autor [Frank Herbert](https://editoraaleph.com.br/pages/frank-herbert). Esses livros foram publicados pela Aleph aqui no Brasil.

Outro autor que eu li mais que um livro neste primeiro semestre foi Machado de Assis. Por incr√≠vel que pare√ßa, eu n√£o havia lido Machado antes! E por incr√≠vel que pare√ßa tamb√©m, n√£o foi pela repercuss√£o da ["Tiktoker americana"](https://nucleo.jor.br/garimpo/tiktok-machado-de-assis/). Eu havia comprado alguns livros que est√£o na lista atual da FUVEST, e um deles foi "Quincas Borba". Que livro legal! Quanta gente interesseira! üòÇ

Depois me falaram que, se eu gostei de "Quincas Borba", eu deveria ler "Dom Casmurro". E eu li e adorei! E se algu√©m me perguntar "traiu ou n√£o traiu?", a minha opini√£o √© de que o Bentinho viajava na maionese e tinha um ci√∫mes obssessivo pela Capitu desde muito cedo. N√£o acho que rolou trai√ß√£o. Mas o que achei mais incr√≠vel √© que, ao ler esse livro, a interpreta√ß√£o pode ser totalmente diferente dependendo de quem est√° lendo. Enfim, o pr√≥ximo livro do Machado na minha lista √© o "Mem√≥rias P√≥stumas de Br√°s Cubas", o livro que a Tiktoker tanto falou bem.

#### Pa√≠s de origem

Algo que √© interessante √© ver a diversidade da autoria dos livros que eu li. Vamos ver a quantidade de livros lidos por pa√≠s de origem dos autores:

```{r}
#| label: plot-autoria-pais
autoria_por_pais <- dados |> 
  group_by(autoria_pais) |> 
  summarise(
    quantidade_livros = n()
  ) |> 
  mutate(autoria_pais = fct_reorder(autoria_pais, quantidade_livros))

autoria_por_pais |> 
  ggplot() +
  aes(y = autoria_pais, x = quantidade_livros) +
  geom_col(fill = "#7c685f") +
  labs(
    title = "Quantidade de livros lidos, por pa√≠s de origem do autor",
    x = "Quantidade de livros",
    y = "Pa√≠s de origem do autor"
  )  +
  theme_minimal()
```

As minhas leituras foram principalmente de autores dos Estados Unidos e do Brasil. Futuramente, eu gostaria muito de ler mais livros de autoras e autores brasileiros!

#### G√™nero dos autores

Algo um pouco triste na minha lista √© tentar visualizar a diversidade de g√™nero dos autores. Quase todos os livros que eu li foram escritos por homens, e apenas um por uma mulher! Isso √© algo que eu gostaria de mudar nas minhas leituras futuras: ler mais livros de autoras mulheres.

```{r}
#| label: plot-autoria-genero
#| fig-height: 3
autoria_por_genero <- dados |> 
  group_by(autoria_genero) |> 
  summarise(
    quantidade_livros = n()
  )

autoria_por_genero |> 
  ggplot() +
  aes(y = autoria_genero, x = quantidade_livros) +
  geom_col(aes(fill = autoria_genero)) +
  labs(
    title = "Quantidade de livros lidos, por g√™nero do autor",
    x = "Quantidade de livros",
    y = "G√™nero do autor"
  ) +
  theme_minimal() +
  scale_fill_manual(values = c("#bf8464", "#d2dce5")) +
  theme(legend.position = "none")
```

#### Cor/Ra√ßa dos autores

Essa quest√£o √© um pouco complicada, pois n√£o tem em um lugar espec√≠fico a cor/ra√ßa dos autores. Eu busquei categorizar baseando em informa√ß√µes que eu encontrei na internet, mas √© algo subjetivo.

```{r}
#| label: plot-autoria-raca
#| fig-height: 4
autoria_por_raca <- dados |> 
  group_by(autoria_raca) |> 
  summarise(
    quantidade_livros = n()
  )|> 
  mutate(autoria_raca = fct_reorder(autoria_raca, quantidade_livros))

autoria_por_raca |> 
  ggplot() +
  aes(y = autoria_raca, x = quantidade_livros) +
  geom_col(fill = "#bf8464") +
  labs(
    title = "Quantidade de livros lidos, por ra√ßa do autor",
    x = "Quantidade de livros",
    y = "Ra√ßa do autor"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

## O que gostei mais?

Falar das leituras favoritas √© muito pessoal, pois depende de v√°rios fatores: o livro em si, como eu estava na √©poca, se eu engajei na leitura, etc. Mas, dos livros que eu li, os que eu mais gostei foram:

-   [Duna, Frank Herbert](https://www.skoob.com.br/duna-2278ed673523.html) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

-   [Dom Casmurro, Machado de Assis](https://www.skoob.com.br/dom-casmurro-180ed11923771.html) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

-   [Imperador Deus de Duna, Frank Herbert (Livro 4)](https://www.skoob.com.br/imperador-deus-de-duna-6727ed122233701.html) ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

## Notas dos livros, segundo outras pessoas que usam o Skoob

Muitas vezes, usamos a nota dos livros para escolher as pr√≥ximas leituras. Eu pessoalmente acho que n√£o necessariamente a nota de um livro reflete se eu vou gostar ou n√£o dele, pois a nota depende de fatores como: quantas avalia√ß√µes ele recebeu (um livro com poucas avalia√ß√µes pode ter uma nota mais alta facilmente), o gosto das pessoas que avaliaram, etc.

Mas vamos l√°!

```{r}
#| label: plot-nota-skoob
dados |> 
  mutate(nome = fct_reorder(nome, nota_skoob)) |> 
  ggplot() +
  geom_point(aes(x = nota_skoob, y = nome), shape = 8) +
  scale_x_continuous(limits = c(0, 5)) +
  labs(
    title = "Nota dos livros no Skoob",
    x = "Nota Skoob",
    y = "Livro"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

Bom, como eu disse, a nota de um livro n√£o necessariamente reflete se eu vou gostar ou n√£o dele. Eu gostei bastante das leituras que atualmente est√£o com a nota mais baixa dentre os livros lidos neste semestre: 3.8! S√£o esses: "[Quincas Borba](https://www.skoob.com.br/quincas-borba-1010316ed1012277.html)" (Machado de Assis), "[N√≥s matamos o c√£o tinhoso!](https://www.skoob.com.br/quincas-borba-1010316ed1012277.html)" (Lu√≠s Bernardo Honwana), e "[23 minutos](https://www.skoob.com.br/23-minutos-122396276ed122397526.html)" (Waldson Souza). Minha hip√≥tese √© que os dois primeiros citados recebem notas menores por serem livros que est√£o na lista do vestibular, e muitas vezes as pessoas leem por obriga√ß√£o e isso reflete na nota do livro. No caso do livro "[23 minutos](https://www.skoob.com.br/23-minutos-122396276ed122397526.html)", √© um livro juvenil que est√° em pr√©-lan√ßamento, e por enquanto foi lido pelos assinantes da [TAG In√©ditos](https://site.taglivros.com/ineditos/), um p√∫blico que provavelmente √© mais adulto, e isso tamb√©m reflete na nota.

Por outro lado, o livro ["O andar do b√™bado"](https://www.skoob.com.br/o-andar-do-bebado-37134ed40631.html) foi a leitura que eu menos gostei do semestre, e est√° com a nota 4.1 no Skoob.

## Conclus√£o

-   Neste primeiro semestre, li mais do que nos √∫ltimos anos. O melhor foi ter consolidado o h√°bito de ler todos os dias (nem que seja um pouco antes de dormir!).

-   A leitura da s√©rie Duna foi o que mais "ocupou" minhas leituras do semestre. Eu adorei a s√©rie, e fiquei muito feliz de ter lido!

-   Em termos de diversidade, as minhas leituras deixaram a desejar. Isso √© algo que eu gostaria de mudar nas minhas leituras futuras.

-   Algo que n√£o comentei anteriormente: [eu assinei a TAG](https://site.taglivros.com/), e desde Junho estou recebendo livros surpresa em casa todo m√™s. Tem sido bem legal, e duas das leituras da lista foram livros que eu recebi da TAG.

-   Se quiser saber mais sobre as minhas leituras, eu uso o **[Skoob](https://www.skoob.com.br/share/user/beatrizmilz)** (como falei anteriormente). **Edit:** ap√≥s a escrita do post, tamb√©m criei uma conta no **[Goodreads](https://www.goodreads.com/user/show/180775178)**!

-   Espero que tenham gostado! Eu me diverti escrevendo este post.

## Lista de leituras

![](images/mosaico_capas.png){fig-align="center"}

Segue abaixo a lista completa, ordenada pelo ano de publica√ß√£o original do livro:

```{r}
dados |>
  mutate(link = str_glue("[{nome}]({link_skoob})")) |> 
  arrange(ano_publicacao_original) |>
  select(link, autoria_nome) |>
  kable(col.names = c("Livro", "Autoria"))
```

Feliz dia do escritor! üìö‚ú®

## Extra - Mosaico das capas dos livros com o pacote `{magick}`

O mosaico das capas do livro foi feito usando o pacote `{magick}`, e o c√≥digo est√° a seguir:

```{r}
#| eval: false
#| code-fold: true
capas <- dados |>
  mutate(
    formato_arquivo = tools::file_ext(url_capa),
    nome_arquivo = str_glue(
      "images/capas/{ano_publicacao_original}-{janitor::make_clean_names(autoria_nome)}-{janitor::make_clean_names(nome)}.{formato_arquivo}"
    )
  ) |>
  select(url_capa, nome_arquivo) |>
  tidyr::drop_na(url_capa)

# Fazer download das capas
capas |>
  group_split(nome_arquivo) |>
  purrr::walk( ~ download.file(url = .x$url_capa, destfile = .x$nome_arquivo))

# Compor uma imagem com todas as capas
imagem_capas <- fs::dir_ls("images/capas/") |>
  magick::image_read() |>
  magick::image_montage(tile = "4x4",
                        geometry = 'x200+5+5',
                        gravity = "center")

# Salvar a composi√ß√£o
magick::image_write(imagem_capas, path = "images/mosaico_capas.jpg")
```
