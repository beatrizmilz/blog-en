---
title: "Introducci贸n a GitHub Actions para usuarias de R"
subtitle: "Serie GitHub Actions - 1 - En esta publicaci贸n, presentar茅 brevemente GitHub Actions y le mostrar茅 c贸mo puede comenzar a usar GitHub Actions con R."
author: "Beatriz Milz"
date: "2022-06-30"
categories: ["Git", "GitHub", "GitHub Actions", "Automations"]
image: "featured.png"
toc: true
draft: false
---

```{r multilang-buttons}
#| results: asis
#| echo: false
source(here::here("R/multilang.R"))
multilang()
```

::: callout-note
## 隆Bienvenides!

Esta publicaci贸n fue escrita originalmente en ingl茅s y fue traducida con la ayuda del traductor de Google y revisada por m铆.
Mis habilidades en Espa帽ol son intermedias, as铆 que si encuentras alg煤n error de ortograf铆a, 隆av铆same!
Buena lectura :)
:::

隆Oye!
Este es el primer post de la serie "GitHub Actions".
Esta serie de post es un material complementario para mi charla rel谩mpago en la [Conferencia RStudio - rstudio::conf 2022](https://www.rstudio.com/conference/).

[![](images/talk.png){fig-align="center" width="70%"}](https://rstudioconf2022.sched.com/event/11ia9?iframe=no)

En esta publicaci贸n, **presentar茅 brevemente GitHub Actions y le mostrar茅 c贸mo puede comenzar a usar GitHub Actions con R**.

## 驴Qu茅 es GitHub Actions?

[GitHub Actions](https://github.com/features/actions) es una herramienta de [GitHub](https://github.com/) que nos permite automatizar tareas con c贸digo.
Por ejemplo, podemos especificar una serie de comandos para que se ejecuten cuando se active.

Podemos hacer muchas automatizaciones diferentes con GitHub Actions, como:

-   Descargar y guardar un archivo todos los d铆as (como `.csv`/ `.xlsx`/ `.json`...);

-   Ejecutar un script en R y guardar los resultados en una base de datos o una hoja de c谩lculo de Google, por ejemplo;

-   Ejecuci贸n de rutinas de web scraping;

-   Actualizar documentos RMarkdown o Quarto;

-   隆Etc茅tera!
    

## 驴C贸mo utilizar GHA en un paquete en R?

GitHub Actions se utiliza ampliamente en el desarrollo de paquetes para CI/CD.
Por ejemplo, las personas que desarrollan paquetes usan GitHub Actions para probar su c贸digo, ejecutar rutinas de chequeo, actualizar la documentaci贸n y el sitio web del paquete, y m谩s.

::: callout-tip
## 驴Qu茅 es CI/CD en el contexto de paquetes en R?

La integraci贸n continua (CI) es una pr谩ctica de desarrollo que requiere que las personas que desarrollan el paquete integren regularmente el c贸digo en el repositorio, despu茅s de lo cual se realizan chequeos y pruebas automatizadas para verificar la integridad del nuevo c贸digo.

La entrega continua (CD) es una metodolog铆a de desarrollo de software en la que los cambios de c贸digo se verifican, prueban y lanzan autom谩ticamente a producci贸n.
**Esto permite que se lancen con frecuencia nuevas versiones de los paquetes.**
:::

El paquete [usethis](https://usethis.r-lib.org/reference/github_actions.html) nos ayuda a configurar GitHub Actions en paquetes R.
Es fundamental saber que, por defecto, las Actions creadas usando usethis provienen del repositorio [r-lib/actions](https://github.com/r-lib/actions/tree/v2-branch/examples#readme).
隆Guarde este enlace; el contenido es muy relevante!

::: callout-note
## 

Me gustar铆a agradecer todo el trabajo realizado por quienes contribuyen al [repositorio r-lib/actions](https://github.com/r-lib/actions/graphs/contributors).
 Para m铆, este repositorio fue la fuente de contenido y c贸digo m谩s importante sobre GitHub Actions en R.

[![](images/actions-repo.png){fig-align="center" width="100%"}](https://github.com/r-lib/actions/blob/v2-branch/examples/README.md)
:::

Aqu铆 hay algunos ejemplos de c贸mo configurar GH Actions en paquetes:

-   Para realizar chequeos (como `devtools::check()`) en un paquete siempre que haya un cambio de c贸digo, utilice:

```{r}
#| eval: false
usethis::use_github_action("check-release")
```

Esto es 煤til porque cada vez que ocurre un error en el cheque, recibimos un correo electr贸nico de GitHub 锔.
De esa manera, sabemos que algo est谩 malo en el c贸digo y podemos solucionarlo lo antes posible.

Para actualizar el sitio web del paquete (como `pkgdown::build_site()`) cada vez que haya un cambio en el c贸digo, utilice:

```{r}
#| eval: false
usethis::use_github_action("pkgdown")
```

Esto permite que el sitio web y la documentaci贸n del paquete est茅n siempre actualizados.


## 驴C贸mo utilizar GHA en un script en R?

Ya sabemos que podemos hacer automatizaciones realmente geniales en paquetes en R utilizando GitHub Actions.
Pero la mayor铆a de las personas que programan en R que conozco utilizan scripts R y archivos RMarkdown en el d铆a a d铆a.
No encontr茅 ejemplos del uso de GHA con scripts simples (sin la estructura del paquete) en el repositorio [r-lib/actions](https://github.com/r-lib/actions/blob/v2-branch/examples/README.md).
Entonces, para eso, 隆necesitamos saber c贸mo funciona GHA!

La [documentaci贸n de GitHub sobre flujos de trabajo](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions) es una fuente excelente para obtener m谩s informaci贸n sobre este tema.

En primer lugar, la automatizaci贸n realizada con GHA se llama **Workflow** (o flujo de trabajo).
El flujo de trabajo tiene dos partes principales: **Events** (Eventos) y **Jobs** (Trabajos).

-   **Events/Eventos** describen lo que puede iniciar un flujo de trabajo.
    Por ejemplo, un evento podr铆a ser "comenzar este flujo de trabajo todos los d铆as a las 9 am" o "cada vez que alguien hace un push al repositorio" (en otras palabras, cuando hay un cambio en el c贸digo).

-   **Jobs/Trabajos** describe lo que se supone que debe hacer la computadora.
    隆Imag铆nese que comienza sin ning煤n software instalado!
    Por lo tanto, debemos decir qu茅 sistema operativo (SO) queremos que ejecute nuestro c贸digo (por ejemplo, Ubuntu/Windows/Mac OS).
    Adem谩s, necesitamos instalar R y cualquier paquete necesario para ejecutar nuestro c贸digo.
    Despu茅s de eso, podemos agregar el script que queremos ejecutar en R y guardar los resultados generados.

## Ejemplo

Este es un ejemplo de un archivo de workflow/flujo de trabajo simple.
El flujo de trabajo comienza cuando presiona un bot贸n en GitHub (el evento).
Entonces, instala R e imprime el mensaje "Hello R World!" en la consola (el trabajo).

``` yml
# Evento/Event - 驴Qu茅 inicia el flujo de trabajo/workflow?
on:
  workflow_dispatch:

# Nombre del workflow
name: hello-r-world

# Jobs/Trabajos - 驴Qu茅 debe hacer la computadora?
jobs:
  write-message:
    # Usar Ubuntu   
    runs-on: ubuntu-latest 
    steps:
       # Instalar R
      - uses: r-lib/actions/setup-r@v3    
      - name: print-message   
        # C贸digo para ejecutar el script R
        run: Rscript -e 'print("Hello R World!")' 
```

## 隆Nos vemos en el siguiente post!

Esa es la idea general de GitHub Actions.
En la pr贸xima publicaci贸n, escribir茅 c贸mo puede crear un GHA que ejecute un script R y guarde el resultado en el repositorio de GitHub.
隆Nos vemos pronto!

## Agradecimientos

[Daniel Falbel](https://github.com/dfalbel), [Athos Damiani](https://github.com/Athospd), y [Julio Trecenti](https://github.com/jtrecenti): las personas que me presentaron GitHub Actions, respondieron preguntas y enviaron muchos enlaces incre铆bles.
隆Gracias!

Personas que contribuyen al [repositorio r-lib/actions](https://github.com/r-lib/actions/graphs/contributors):  Para m铆, este repositorio fue la fuente de contenido m谩s importante en GitHub Actions para R.

[Julio Trecenti](https://github.com/jtrecenti): gracias por revisar la versi贸n en Ingl茅s del post!

## Referencias

-   [GitHub Actions](https://github.com/features/actions)

-   [Paquete usethis](https://usethis.r-lib.org/reference/github_actions.html)

-   [Repositorio r-lib/actions](https://github.com/r-lib/actions/tree/v2-branch/examples#readme)

-   [Documentaci贸n de GitHub sobre flujos de trabajo](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)


## Comparte y apoya!

Si te gusta este tipo de contenido, considera apoyarme en [GitHub Sponsors](https://github.com/sponsors/beatrizmilz/), o comp谩rtelo en Twitter:
):

<center>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">I wrote a new blog post about &quot;Introduction to GitHub Actions to R users&quot;!<a href="https://t.co/lCBH4vIGa2">https://t.co/lCBH4vIGa2</a><br><br>This post is complementary material for my lightning talk at the <a href="https://twitter.com/rstudio?ref_src=twsrc%5Etfw">@rstudio</a> conference!<br><br>Feedback is always welcome :)<a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> <a href="https://twitter.com/hashtag/github?src=hash&amp;ref_src=twsrc%5Etfw">#github</a> <a href="https://twitter.com/hashtag/githubactions?src=hash&amp;ref_src=twsrc%5Etfw">#githubactions</a> <a href="https://twitter.com/hashtag/rstudioconf?src=hash&amp;ref_src=twsrc%5Etfw">#rstudioconf</a> <a href="https://twitter.com/hashtag/rstudioconf2022?src=hash&amp;ref_src=twsrc%5Etfw">#rstudioconf2022</a></p>&mdash; Beatriz Milz (@BeaMilz) <a href="https://twitter.com/BeaMilz/status/1542526491807797248?ref_src=twsrc%5Etfw">June 30, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
